export EDITOR=nvim

alias ls="ls -G"
alias lsa="ls -a"
alias ll="ls -lh"
alias l="ll"
alias lla="ls -alh"
alias grep="grep --colour"
alias tigs="tig status"
alias vim='nvim'
alias nvm="nvim"
alias n="nvim"

alias currentweek="date +%V"
alias monip="ifconfig | grep 192 | cut -d' ' -f2"

# GIT
alias g='git'
alias gfp='git fetch -p'
alias gpp='git pull -p'
alias gcm='git co master'
alias gbrd='git br -D'
# Single quotes needed here, or what's inside subcommands get evaluated everytime (even when
# initializing the shell and reading those aliases, which gives me errors 'not in a git repo')
alias gitconflict='$EDITOR $(git status | grep both | cut -d ':' -f 2 | xargs)'
alias giteditedfrommaster='$EDITOR $(git diff --name-only origin/master | xargs)'
# Churn sur les 6 derniers mois (nombre de commits par fichier)
alias gitchurn="git log --all -M -C --name-only --format='format:' $@ --since='6 months ago' | sort | grep -v '^$' | uniq -c | sort -n | tail -10"

# LINTING
alias coffeelint_edited='coffeelint -f ~/coffeelint-altagem.json $( git diff --name-only --diff-filter=ACMRTUXB --stat origin/master | grep coffee | xargs )'
alias rubocop_edited='rubocop $( git diff --name-only --diff-filter=ACMRTUXB --stat origin/master | grep rb | xargs )'

# RAILS / RUBY
alias ru="rackup"
alias be="bundle exec"
alias mm="middleman"
alias resquework="QUEUE=* bundle exec rake environment resque:work"
# RAILS SERVER / CONSOLE
alias rs="bundle exec bin/rails server || bundle exec rails server"
alias rc="bundle exec bin/rails console || bundle exec rails console"
# RAILS DB
alias rdbm="bundle exec rails db:migrate"
alias rdbms="bundle exec rails db:migrate:status"
alias rdbs="bundle exec rails db:seed"
# RSPEC
alias rsa="bundle exec rspec"
alias rss="bundle exec rspec spec/serializers"
alias rsc="bundle exec rspec spec/controllers"
alias rsm="bundle exec rspec spec/models"

alias killpuma="pkill -9 -f 'puma'"

alias python="python3"



export PATH="/usr/local/sbin:$PATH"
export PATH="$PATH:$HOME/Applications:$HOME/Applications/scripts:/opt/local/bin"
export PATH="/usr/local/opt/postgresql@9.4/bin:$PATH"


# Permissions when creating new files/folder will be :
#    - file :   644
#    - folder : 755
# This is needed for Homebrew to deal properly with my
# different users.
umask 002


# Conflicts between ZSH and GIT HEAD^ resulting in "no matches found" error
# when trying to use HEAD^ in a git command
setopt NO_NOMATCH


# Initialize FASD
eval "$(fasd --init auto)"
alias a='fasd -a'        # any
alias s='fasd -si'       # show / search / select
alias d='fasd -d'        # directory
alias f='fasd -f'        # file
alias sd='fasd -sid'     # interactive directory selection
alias sf='fasd -sif'     # interactive file selection
alias z='fasd_cd -d'     # cd, same functionality as j in autojump
alias zz='fasd_cd -d -i' # cd with interactive selection
alias v='f -e nvim'      # quick opening files with vim and fasd

# Tell fzf to use rip grep
export FZF_DEFAULT_COMMAND='rg --files --hidden --smart-case --glob "!.git/*"'

# SSH
# Add my identity so that I can use SSH forwarding
ssh-add &> /dev/null

